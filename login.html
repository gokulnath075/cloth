<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login — PREMIUM.</title>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="navbar"></div>
    <div class="auth-page">
        <div class="auth-card">
            <div style="text-align:center;margin-bottom:24px"><a href="index.html" class="nav-logo"
                    style="font-size:1.8rem">PREMIUM<span>.</span></a></div>
            <div class="auth-tabs">
                <button class="active" onclick="showAuthTab('login',this)">Login</button>
                <button onclick="showAuthTab('signup',this)">Sign Up</button>
            </div>
            <div id="loginForm">
                <form onsubmit="handleLogin(event)">
                    <div class="form-group"><label>Email</label><input type="email" id="loginEmail" required
                            placeholder="you@example.com"></div>
                    <div class="form-group"><label>Password</label><input type="password" id="loginPass" required
                            placeholder="••••••••"></div>
                    <div
                        style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;font-size:.85rem">
                        <label style="display:flex;align-items:center;gap:6px;cursor:pointer"><input type="checkbox">
                            Remember me</label>
                        <a href="#" style="color:var(--gold-dark)">Forgot password?</a>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width:100%">Login</button>
                </form>
            </div>
            <div id="signupForm" style="display:none">
                <form onsubmit="handleSignup(event)">
                    <div class="form-group"><label>Full Name</label><input type="text" id="signupName" required
                            placeholder="John Doe"></div>
                    <div class="form-group"><label>Email</label><input type="email" id="signupEmail" required
                            placeholder="you@example.com"></div>
                    <div class="form-group"><label>Phone</label><input type="tel" id="signupPhone" required
                            placeholder="+91 9876543210"></div>
                    <div class="form-group"><label>Password</label><input type="password" id="signupPass" required
                            placeholder="Min. 8 characters" minlength="8"></div>
                    <button type="submit" class="btn btn-primary" style="width:100%">Create Account</button>
                </form>
            </div>
            <div id="profileView" style="display:none;text-align:center;padding:20px 0">
                <div style="width:80px;height:80px;background:var(--black);color:var(--gold);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2rem;font-weight:700;margin:0 auto 16px"
                    id="profileAvatar"></div>
                <h2 id="profileName" style="font-size:1.3rem;margin-bottom:4px"></h2>
                <p id="profileEmail" style="color:var(--grey-400);font-size:.9rem;margin-bottom:24px"></p>
                <div style="display:flex;flex-direction:column;gap:12px">
                    <a href="track.html" class="btn btn-secondary btn-sm" style="width:100%">My Orders</a>
                    <a href="wishlist.html" class="btn btn-secondary btn-sm" style="width:100%">My Wishlist</a>
                    <button class="btn btn-primary btn-sm" style="width:100%" onclick="handleLogout()">Logout</button>
                </div>
            </div>
        </div>
    </div>
    <div id="footer"></div>
    <script src="data.js"></script>
    <script src="app.js"></script>
    <script>
        document.getElementById('navbar').innerHTML = getNavbarHTML();
        document.getElementById('footer').innerHTML = getFooterHTML();
        initApp();

        function showAuthTab(tab, btn) {
            document.querySelectorAll('.auth-tabs button').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            document.getElementById('loginForm').style.display = tab === 'login' ? 'block' : 'none';
            document.getElementById('signupForm').style.display = tab === 'signup' ? 'block' : 'none';
        }

        function handleLogin(e) {
            e.preventDefault();
            Store.login({ name: 'User', email: document.getElementById('loginEmail').value });
            showToast('Welcome back!');
            showProfile();
        }

        function handleSignup(e) {
            e.preventDefault();
            Store.login({ name: document.getElementById('signupName').value, email: document.getElementById('signupEmail').value });
            showToast('Account created successfully!');
            showProfile();
        }

        function handleLogout() {
            Store.logout();
            showToast('Logged out');
            document.getElementById('profileView').style.display = 'none';
            document.getElementById('loginForm').style.display = 'block';
            document.querySelector('.auth-tabs').style.display = 'flex';
        }

        function showProfile() {
            const user = Store.getUser();
            if (!user) return;
            document.querySelector('.auth-tabs').style.display = 'none';
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('signupForm').style.display = 'none';
            document.getElementById('profileView').style.display = 'block';
            document.getElementById('profileAvatar').textContent = user.name.split(' ').map(w => w[0]).join('').toUpperCase();
            document.getElementById('profileName').textContent = user.name;
            document.getElementById('profileEmail').textContent = user.email;
        }

        if (Store.isLoggedIn()) showProfile();
    </script>
</body>

</html>